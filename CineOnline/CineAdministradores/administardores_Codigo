package trabajo;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.InputMismatchException;
import java.util.Scanner;

public class Administradores1 {

	public static void main(String[] args) throws IOException {
		Scanner leer = new Scanner(System.in);
		System.out.println("Bienvenido");
		int opcion;
		boolean menu = true;
		/* realizamos un while para que el las opciones del menu aparezcan cada vez
		 * que termino de realizar una tarea y dar la opcion si deseo realizar otra
		 * dejamos la opcion salir la cual daria final al bucle while
		 */
		while (menu){
		//Creamos un Menu Principal para consultar al usuario que desea hacer
			System.out.println("¿Que le gustaria hacer?");
			System.out.println("1) Dar de alta una pelicula\n2) Dar de alta un critico\n3) salir");
		/* realizamos un try catch para que cuando el administrador introduzca un dato
		 * que no es valido este le mande un mensaje y le mande de vuelta a escoger una opcion
		 */
			try {
				System.out.println("introduzca el numero de la opción que desea realizar");
				opcion = leer.nextInt();
		/* Ahora crearemos un switch case para asi distiguir cada opcion
		 * y ademas podemos redirigir al administrador a la tarea que desea realizar
		 */
				switch (opcion) {
					case 1:
						File cartelera=peliculas();
						System.out.println();
						break;
					case 2:
						File criticos =criticos();
						System.out.println();
						break;
					case 3:
						menu = false;
						break;
				default:
					System.out.println("sentimos las molestias, las unicas opciones son 1, 2 o 3\n");
				}// end switch
			}catch (InputMismatchException e) {
				System.out.println("Sentimos las molestias, este dato no corresponde a ninguna opcion.");
				// colocomos aqui un leer.next, ya que si no lo hacemos nos provoca un bucle infinito
				leer.next();
			}// end catch
		}// end while
		System.out.println("Esperamos verte pronto");
	}//main
	
	public static File peliculas () throws IOException {
		// creamos el fichero
		File cartelera =new File ("cartelera.txt");
		PrintWriter SalidaP = new PrintWriter (new FileWriter (cartelera));
		boolean maspelis;
		Scanner leer =new Scanner (System.in);
		
		SalidaP.println("Nombre de las peliculas en la cartelera\n");
		/*utiliazamos un bucle do, while para llevar a cabo la escritura dentro de
		 * nuestro fichero cartelera de las peliculas que queremos agregar 
		 */
		do {
			//
			System.out.println("Nombre de la pelicula que desea dar de alta");
			String pelicula =leer.nextLine();
			SalidaP.println(pelicula);
			/*para llevar un mejor control pregunatremos al administrador cada vez
			 * que desee agregar una pelicula 
			 */
			System.out.println("¿Quiere agregar otra pelicula?(s/n)");
			maspelis=leer.nextLine().equals("s");
			
		}//do
			while (maspelis);
			SalidaP.close();
			System.out.println("Gracias por agregar nuevas peliculas, volvemos al menu");	
	return cartelera;		
	}//end peliculas
	
	public static File criticos () throws IOException {
		//creamos el fichero criticos
		File Criticos = new File ("criticos.txt");
		PrintWriter salidaC = new PrintWriter (new FileWriter(Criticos));
		Scanner leer =new Scanner (System.in);
		boolean mascriticos;
		
		salidaC.println("nombre de los criticos\n");
		/*utiliazamos un bucle do, while para llevar a cabo la escritura dentro de
		 * nuestro fichero criticos de  los criticos que queremos introducir
		 */ 
			do {
				System.out.println("Nombre del nuevo critico");
				String Critico =leer.nextLine();
				//creamos un fichero para cada critico que se va agregando
				File CadaCritico = new File (Critico);
				salidaC.println(CadaCritico);
				System.out.println("¿Quiere agregar otro critico?");
				mascriticos=leer.nextLine().equals("s");	
			}
			while (mascriticos);
				salidaC.close();
				System.out.println("Gracias por agregar nuevos criticos, volvemos al menu");
			//while
	return Criticos;	
	}//end criticos
}
